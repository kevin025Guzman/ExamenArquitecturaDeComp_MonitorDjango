<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Monitor del Sistema</title>
    <!-- Bootstrap opcional -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body { padding: 20px; background-color: #f8f9fa; }
        .card { margin: 10px; }
        .chart-container { width: 400px; margin: 20px auto; }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-4">游늵 Monitor del Sistema</h1>

        <!-- Bot칩n de actualizar -->
        <div class="text-center mb-4">
            <a href="" class="btn btn-primary">Actualizar</a>
        </div>

        <!-- Cards con informaci칩n del sistema -->
        <div class="row text-center">
            <div class="col-md-3">
                <div class="card p-3 bg-light">
                    <h5>CPU</h5>
                    <p>{{ datos.cpu }}%</p>
                    <small>N칰cleos: {{ datos.cores }}</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card p-3 bg-light">
                    <h5>RAM</h5>
                    <p>{{ datos.ram_usada }} GB / {{ datos.ram_total }} GB ({{ datos.ram_percent }}%)</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card p-3 bg-light">
                    <h5>Disco</h5>
                    <p>{{ datos.disco_usado }} GB / {{ datos.disco_total }} GB</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card p-3 bg-light">
                    <h5>Sistema</h5>
                    <p>{{ datos.os_info }}</p>
                </div>
            </div>
        </div>

       <!-- Gr치ficos -->
<div class="row text-center">
    <div class="col-md-4 chart-container">
        <canvas id="cpuChart"></canvas>
    </div>
    <div class="col-md-4 chart-container">
        <canvas id="ramChart"></canvas>
    </div>
    <div class="col-md-4 chart-container">
        <canvas id="diskChart"></canvas>
    </div>
</div>

    </div>

    <script>
        // Datos para gr치ficos
        const cpuData = {
            labels: ['CPU Usado', 'CPU Libre'],
            datasets: [{
                data: [{{ datos.cpu  }}, {{ datos.cpu_libre }}],
                backgroundColor: ['#FF6384', '#36A2EB'],
            }]
        };

        const ramData = {
            labels: ['RAM Usada', 'RAM Libre'],
            datasets: [{
                data: [{{ datos.ram_usada }}, {{ datos.ram_libre }}],
                backgroundColor: ['#FFCE56', '#4BC0C0'],
            }]
        };

        const diskData = {
            labels: ['Disco Usado', 'Disco Libre'],
            datasets: [{
                data: [{{ datos.disco_usado }}, {{ datos.disco_libre }}],
                backgroundColor: ['#9966FF', '#FF9F40'],
            }]
        };

        // Crear gr치ficos Doughnut
        new Chart(document.getElementById('cpuChart'), {
            type: 'doughnut',
            data: cpuData,
            options: {
                responsive: true,
                plugins: { legend: { position: 'bottom' } }
            }
        });

        new Chart(document.getElementById('ramChart'), {
            type: 'doughnut',
            data: ramData,
            options: {
                responsive: true,
                plugins: { legend: { position: 'bottom' } }
            }
        });

        new Chart(document.getElementById('diskChart'), {
            type: 'doughnut',
            data: diskData,
            options: {
                responsive: true,
                plugins: { legend: { position: 'bottom' } }
            }
        });
    </script>
</body>
</html>
